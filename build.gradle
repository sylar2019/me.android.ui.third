apply from: rootProject.rootDir.getAbsolutePath() + "/gradles/const.gradle"
apply from: rootProject.rootDir.getAbsolutePath() + "/gradles/utils.gradle"

/** ******************************************************************************************/

/**
 * 编译脚本
 */
buildscript {
    repositories {
        mavenLocal()
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/jcenter' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/google' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/gradle-plugin' }
    }

    dependencies {
        classpath "com.android.tools.build:gradle:3.5.0"
    }
}

/** ******************************************************************************************/
/** ******************************************************************************************/

allprojects {
    //公共插件
    apply plugin: "eclipse"
    apply plugin: "idea"
    apply plugin: 'maven'

    group "me.android.third"
    version "1.0.0"

    repositories {
        mavenLocal()
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/jcenter' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/google' }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/gradle-plugin' }
    }
}

subprojects {
    apply from: gradlesPath + "const.gradle"
    apply from: gradlesPath + "utils.gradle"
}

configure(isJavaProject()) {
    apply from: gradlesPath + "android-lib.gradle"

    uploadArchives {
        repositories {
            mavenDeployer {
                repository(url: "${nexus_third}") {
                    authentication(userName: "${nexus_user}", password: "${nexus_pwd}")
                }

                pom.groupId = "${project.group}"
                pom.version = "${project.version}"
                pom.packaging = "aar"
            }
        }
    }
}



